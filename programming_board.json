{"slots":{"0":{"name":"slot1","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"if chronostart < 0 then\n    chronostart = system.getArkTime()\nend    \ntime_left = (timer_duration-(system.getArkTime()-chronostart))\ntime_spent = (system.getArkTime()-chronostart)\n\nif time_spent<=(timer_duration/2) then\n\tdeg_r=time_spent*(360/timer_duration)\nend\nif time_spent>timer_duration/2 then\n    deg_r = 180\nend    \nif time_spent>(timer_duration/2) then\n\tdeg_l=time_spent*(360/timer_duration)\n     clip_css=\"\"\n     dis_css=\"\"\nend\nif deg_l > 360 then\n    deg_l = 360\nend\n\n-- MINUTES (60 seconds are 1 minute) \nlocal minutes = time_left // 60\n-- Modulus again to get minutes lefts\ntime_left = time_left % 60\nlocal seconds = time_left\nformated_time = \"\"\nif round(minutes,0) > 0 then\n    formated_time = formated_time..round(minutes,0)..\" min<br>\"\nend    \nformated_time = \"<br>Scan<br>\"..formated_time..round(seconds,0).. \"s\"\n\nif time_spent>timer_duration then\n    unit.stopTimer(\"chrono_start\")\n    done = true\n    unit.setTimer(\"chrono_end\",1)\n    formated_time = \"<br>Scan<br>Completed\"\nend    \n\nhtml = [[<style>\n    *,\n    *:before,\n    *:after {\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        color: #444;\n        font-family: 'Lato', Tahoma, Geneva, sans-serif;\n        font-size: 16px;\n        padding: 10px;\n    }\n\n    .set-size {\n        font-size: 10em;\n    }\n\n    .charts-container:after {\n        clear: both;\n        content: \"\";\n        display: table;\n    }\n\n    .pie-wrapper {\n        height: 1em;\n        width: 1em;\n        float: left;\n        margin: 15px;\n        position: relative;\n    }\n\n    .pie-wrapper:nth-child(3n+1) {\n        clear: both;\n    }\n\n    .pie-wrapper .pie {\n        height: 100%;\n        width: 100%;\n        ]]..clip_css..[[\n        left: 0;\n        position: absolute;\n        top: 0;\n    }\n\n    .pie-wrapper .pie .half-circle {\n        height: 100%;\n        width: 100%;\n        border: 0.1em solid #3498db;\n        border-radius: 50%;\n        clip: rect(0, 0.5em, 1em, 0);\n        left: 0;\n        position: absolute;\n        top: 0;\n    }\n\n    .pie-wrapper .label {\n        background: #34495e;\n        border-radius: 50%;\n        bottom: 0.4em;\n        color: #ecf0f1;\n        cursor: default;\n        display: block;\n        font-size: 2vh;\n        left: 0.4em;\n        line-height: 3vh;\n        position: absolute;\n        right: 0.4em;\n        text-align: center;\n        top: 0.4em;\n    }\n\n    .pie-wrapper .label .smaller {\n        color: #bdc3c7;\n        font-size: .45em;\n        padding-bottom: 20px;\n        vertical-align: super;\n    }\n\n    .pie-wrapper .shadow {\n        height: 100%;\n        width: 100%;\n        border: 0.1em solid #bdc3c7;\n        border-radius: 50%;\n    }\n\n    .pie-wrapper.style-2 .label {\n        background: none;\n        color: #7f8c8d;\n    }\n\n    .pie-wrapper.style-2 .label .smaller {\n        color: #bdc3c7;\n    }\n\n    .pie-wrapper.progress-30 .pie .right-side {\n        ]]..dis_css..[[\n\t   transform: rotate(]]..deg_l..[[deg);\n    }\n\n    .pie-wrapper.progress-30 .pie .half-circle {\n        border-color: #3498db;\n    }\n\n    .pie-wrapper.progress-30 .pie .left-side {\n        transform: rotate(]]..deg_r..[[deg);\n    }\n\n    .pie-wrapper--solid {\n        border-radius: 50%;\n        overflow: hidden;\n    }\n\n    .pie-wrapper--solid:before {\n        border-radius: 0 100% 100% 0%;\n        content: '';\n        display: block;\n        height: 100%;\n        margin-left: 50%;\n        transform-origin: left;\n    }\n\n    .pie-wrapper--solid .label {\n        background: transparent;\n    }\n\n\n</style>\n<div class=\"set-size charts-container\">\n    <div class=\"pie-wrapper progress-30\">\n        <span class=\"label\">]]..formated_time..[[</span>\n        <div class=\"pie\">\n            <div class=\"left-side half-circle\"></div>\n            <div class=\"right-side half-circle\"></div>\n        </div>\n    </div>\n</div>\n]]\nsystem.setScreen(html)\n","filter":{"args":[{"value":"chrono_start"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"0"},{"code":"unit.setTimer(\"chrono_start\",1)\nsystem.showScreen(1)\nunit.hideWidget()","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"1"},{"code":"html = [[<style>\n    *,\n    *:before,\n    *:after {\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        color: #444;\n        font-family: 'Lato', Tahoma, Geneva, sans-serif;\n        font-size: 16px;\n        padding: 10px;\n    }\n\n    .set-size {\n        font-size: 10em;\n\t   animation: bounce 0.65s ease infinite alternate;\n        position: absolute;\n    }\n    @keyframes bounce{\n     from {top: 50px;}\n     50%  {top: 86px;}\n     to   {top: 106px;}\n    } \n\n    .charts-container:after {\n        clear: both;\n        content: \"\";\n        display: table;\n    }\n\n    .pie-wrapper {\n        height: 1em;\n        width: 1em;\n        float: left;\n        margin: 15px;\n        position: relative;\n    }\n\n    .pie-wrapper:nth-child(3n+1) {\n        clear: both;\n    }\n\n    .pie-wrapper .pie {\n        height: 100%;\n        width: 100%;\n        left: 0;\n        position: absolute;\n        top: 0;\n    }\n\n    .pie-wrapper .pie .half-circle {\n        height: 100%;\n        width: 100%;\n        border: 0.1em solid #3498db;\n        border-radius: 50%;\n        clip: rect(0, 0.5em, 1em, 0);\n        left: 0;\n        position: absolute;\n        top: 0;\n    }\n\n    .pie-wrapper .label {\n        background: #34495e;\n        border-radius: 50%;\n        bottom: 0.4em;\n        color: #ecf0f1;\n        cursor: default;\n        display: block;\n        font-size: 2vh;\n        left: 0.4em;\n        line-height: 3vh;\n        position: absolute;\n        right: 0.4em;\n        text-align: center;\n        top: 0.4em;\n\t   color:green;\n    }\n\n    .pie-wrapper .label .smaller {\n        color: #bdc3c7;\n        font-size: .45em;\n        padding-bottom: 20px;\n        vertical-align: super;\n    }\n\n    .pie-wrapper .shadow {\n        height: 100%;\n        width: 100%;\n        border: 0.1em solid #bdc3c7;\n        border-radius: 50%;\n    }\n\n    .pie-wrapper.style-2 .label {\n        background: none;\n        color: #7f8c8d;\n    }\n\n    .pie-wrapper.style-2 .label .smaller {\n        color: #bdc3c7;\n    }\n\n    .pie-wrapper.progress-30 .pie .right-side {\n\t   transform: rotate(360deg);\n    }\n\n    .pie-wrapper.progress-30 .pie .half-circle {\n        border-color: #3498db;\n    }\n\n    .pie-wrapper.progress-30 .pie .left-side {\n        transform: rotate(180deg);\n    }\n\n    .pie-wrapper--solid {\n        border-radius: 50%;\n        overflow: hidden;\n    }\n\n    .pie-wrapper--solid:before {\n        border-radius: 0 100% 100% 0%;\n        content: '';\n        display: block;\n        height: 100%;\n        margin-left: 50%;\n        transform-origin: left;\n    }\n\n    .pie-wrapper--solid .label {\n        background: transparent;\n    }\n\n\n</style>\n<div class=\"set-size charts-container\">\n    <div class=\"pie-wrapper progress-30\">\n        <span class=\"label\"><br>Scan<br>Completed</span>\n        <div class=\"pie\">\n            <div class=\"left-side half-circle\"></div>\n            <div class=\"right-side half-circle\"></div>\n        </div>\n    </div>\n</div>\n]]\nsystem.setScreen(html)\nif timer_wakeup_sound then\n    if system.isPlayingSound()==0 then\n        system.playSound(\"ts_complete.mp3\")\n    end\nend    ","filter":{"args":[{"value":"chrono_end"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"2"},{"code":"unit.exit()","filter":{"args":[{"value":"option5"}],"signature":"actionStart(action)","slotKey":"-4"},"key":"3"},{"code":"timer_duration=900 --export : timer duration in seconds\ntimer_wakeup_sound=true --export : when the timer end, it will emit a sound using a file named \"ts_complete.mp3\" to be put into mydocuments\\NQ\\DualUniverse\\audio\nchronostart = -1\ndeg_r = 0\ndeg_l = 0\nclip_css = \"clip: rect(0, 1em, 1em, 0.5em);\"\ndis_css = \"display: none;\"\nfunction round(num, numDecimalPlaces)\n    return tonumber(string.format(\"%.\" .. (numDecimalPlaces or 0) .. \"f\", num))\nend","filter":{"args":[],"signature":"start()","slotKey":"-5"},"key":"4"}],"methods":[],"events":[]}